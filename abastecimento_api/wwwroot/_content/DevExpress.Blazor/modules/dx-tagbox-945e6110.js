import{a as t}from"./_tslib-158249d5.js";import{DxComboBox as e}from"./dx-combobox-1e9a4ca8.js";import{d as o,B as n}from"./dom-utils-4967edcb.js";import{e as i,n as s}from"./property-ba1fa369.js";import"./dom-9e6f7067.js";import"./adaptivedropdowncomponents-e84f0c1a.js";import"./dropdowncomponents-94a9238d.js";import"./popup-77a1ae4b.js";import"./rect-2684652a.js";import"./point-9c6ab88a.js";import"./rafaction-bba7928b.js";import"./transformhelper-3935ca6a.js";import"./layouthelper-c2462bd3.js";import"./positiontracker-9570b24e.js";import"./positiontrackerobserver-5fd93b2c.js";import"./supportcaptureelement-2f30b59b.js";import"./popuproot-4df55582.js";import"./branch-6684bbdd.js";import"./lit-element-d284a100.js";import"./data-qa-utils-8be7c726.js";import"./capturemanager-c228e074.js";import"./eventhelper-dec6cde0.js";import"./dx-ui-element-4d613bb9.js";import"./thumb-ae63786a.js";import"./query-44b9267f.js";import"./popupbasedialog-559fd684.js";import"./events-interseptor-b260a35a.js";import"./modalcomponents-7bc6e0e2.js";import"./dx-dropdown-editor-base-911681a3.js";import"./dx-ui-handlers-bridge-4076ae57.js";import"./dx-dropdown-owner-2e57b57e.js";import"./dx-listbox-def6aa95.js";var r;const p="dxbl-tagbox";let a=r=class extends e{constructor(){super(),this.boundOnInputFocusHandler=this.onInputFocus.bind(this),this.customTagsEnable=!1}connectedCallback(){super.connectedCallback()}disconnectedCallback(){this.inputElement&&this.inputElement.removeEventListener("focus",this.boundOnInputFocusHandler),super.disconnectedCallback()}fitInputWidth(){r.fitInputWidth(this.inputElement)}onInputTextChanged(t){r.fitInputWidth(t.target),super.onInputTextChanged(t)}onInputFocus(t){const e=t.target;if(e){const t=o(e,"form-control");t.dataset.focusedClass&&(t.className=t.dataset.focusedClass)}}processLostFocus(){var t,e;if(this.inputElement){if(this.customTagsEnable){const o=null===(t=this.inputElement)||void 0===t?void 0:t.value;if(o&&""!==o){const t={text:o};null===(e=this.uiHandlersBridge)||void 0===e||e.send("lostFocus",t)}}this.inputElement&&document.activeElement!==this.inputElement&&(this.inputElement.value="")}}static fitInputWidth(t){if(!t||!t.previousSibling)return;const e=t.previousSibling;e.innerText=""===t.value&&t.placeholder?t.placeholder:t.value}forceInputValue(t,e){n(this.inputElement,"value",t),this.fitInputWidth(),e&&this.highlightInputText()}highlightInputText(){this.inputElement&&this.inputElement.select()}onSlotChanged(t){super.onSlotChanged(t),this.inputElement&&this.inputElement.addEventListener("focus",this.boundOnInputFocusHandler)}getDropDownWidthSourceElement(){return this}requireSendKeyCommandToServer(t){if(super.requireSendKeyCommandToServer(t))return!0;switch(t.key){case"Escape":return!0;case"Backspace":return!this.inputElement||0===this.inputElement.value.length}return!1}};function u(t){t.fitInputWidth()}function d(t,e,o){t.forceInputValue(e,o)}t([i({type:Boolean,attribute:"custom-tags-enable"})],a.prototype,"customTagsEnable",void 0),a=r=t([s("dxbl-tagbox")],a);const l={loadModule:function(){},fitInputWidth:u,forceInputValue:d};export{l as default,p as dxTagBoxTagName,u as fitInputWidth,d as forceInputValue};
