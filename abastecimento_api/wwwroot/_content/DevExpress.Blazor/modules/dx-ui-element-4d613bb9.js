import{D as e}from"./data-qa-utils-8be7c726.js";import{n as t}from"./lit-element-d284a100.js";import{L as n}from"./layouthelper-c2462bd3.js";const a=(e,t)=>void 0!==e[t],s=(e,t)=>{const n=t();if(0===n.length)throw new Error("empty interface");for(const t of n)if(!a(e,t))return!1;return!0};class r{static getParent(e,t){var a;return s(e,(()=>["logicalParent"]))&&null!==(a=e.logicalParent)&&void 0!==a?a:n.getParent(e,t)}static findParent(e,t,n=!0){for(const a of r.getRootPath(e,null,n)){if(a&&t(a))return a}return null}static containsElement(e,t){return!!t&&null!==r.findParent(t,(t=>t===e))}static*getRootPath(e,t=null,n=!0){let a=r.getParent(e,n);for(;a&&a!==t;)yield a,a=r.getParent(a,n)}}class i{constructor(e){this.element=e}}class l extends CustomEvent{constructor(e){super(l.eventName,{detail:e,bubbles:!1,composed:!1,cancelable:!1})}static create(e){return new l(new i(e))}}l.eventName="dxbl-element-connected";class c extends CustomEvent{constructor(e){super(c.eventName,{detail:e,bubbles:!1,composed:!1,cancelable:!1})}static create(e){return new l(new i(e))}}c.eventName="dxbl-element-disconnected";class o extends t{constructor(){super(...arguments),this._isInitialized=!1}get isInitialized(){return this._isInitialized}connectedCallback(){super.connectedCallback(),this._isInitialized=!0,e.setLoaded(this),this.dispatchEvent(l.create(this))}disconnectedCallback(){super.disconnectedCallback(),this._isInitialized=!1,e.removeLoaded(this),this.dispatchEvent(c.create(this))}}class d extends o{constructor(){super(),this._logicalParent=null,this._logicalChildren=new Array}get hasLogicalParent(){return!!this.logicalParent}get logicalParent(){return this._logicalParent}set logicalParent(e){this._logicalParent=e}get logicalChildren(){return this._logicalChildren}addLogicalChild(e){if(e.logicalParent)throw new Error("Child element already added.");this._logicalChildren.push(e),e.logicalParent=this}removeLogicalChild(e){e.logicalParent=null;const t=this._logicalChildren.indexOf(e);t>-1&&this._logicalChildren.splice(t,1)}async processCapturedKeyDownAsync(e,t){t.handled||this.logicalParent&&s(this.logicalParent,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))&&await this.logicalParent.processCapturedKeyDownAsync(e,t)}async processCapturedPointerDownAsync(e,t){if(t.handled)return;const n=r.findParent(this,(e=>s(e,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))));n&&s(n,(()=>["processCapturedPointerDownAsync","processCapturedKeyDownAsync"]))&&await n.processCapturedPointerDownAsync(e,t)}}export{d as D,r as L,s as i};
