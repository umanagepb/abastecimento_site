import{d as t,r as e}from"./disposable-d2c2d283.js";import{e as n}from"./dom-utils-728879e5.js";import"./dom-9e6f7067.js";import"./_tslib-158249d5.js";function o(t,e,n){t.style.position="absolute",t.style.display="block";const o=function(t,e,n){const o=(i=t,i.offsetParent);var i;if(!o)throw new Error("Parent element not found.");const s=function(t){if(!t)return{x:0,y:0};const e=t.getBoundingClientRect();return{x:e.left+0,y:e.top+0}}(o),d=o.getBoundingClientRect(),l=t.getBoundingClientRect();let r=e+0-s.x;d.left+r+l.width>=document.body.clientWidth&&(r=document.body.clientWidth-l.width-d.left-1);r+=o.scrollLeft;let c=n+0-s.y;d.top+c+l.height>=window.innerHeight&&(c-=l.height+1);return c+=o.scrollTop,{x:r,y:c}}(t,e,n);return t.style.top=o.y+"px",t.style.left=o.x+"px",t.classList.remove("dxbs-visually-hidden"),!1}function i(t){t.style.display="none",l(t)}function s(t){t.invokeMethodAsync("HideAsync")}function d(i,d,l,r){i=n(i),t(i);const c=t=>function(t,e,n){const o=document.getElementById(e);o&&!o.contains(t.target)&&o!==t.target&&s(n)}(t,i.id,r),u=t=>function(t,e){"Escape"===t.key&&s(e)}(t,r);"ontouchstart"in window?document.addEventListener("touchstart",c):document.addEventListener("mousedown",c),document.addEventListener("keydown",u),e(i,(()=>{"ontouchstart"in window?document.removeEventListener("touchstart",c):document.removeEventListener("mousedown",c),document.removeEventListener("keydown",u)})),o(i,d,l)}function l(e){return(e=n(e))?(t(e),Promise.resolve("ok")):Promise.resolve("ContextMenu main element not found.")}function r(t,e){if(!(e=n(e)))return;e.style.visibility="hidden",e.style.display="block";const o=t.getBoundingClientRect(),i=e.getBoundingClientRect();e.style.position="absolute";let s=t.offsetTop;o.top+i.height>=window.innerHeight&&(s-=i.height+o.top+1-window.innerHeight),e.style.top=s+"px";let d=o.width;o.left+d+i.width>=document.body.clientWidth&&(d-=i.width+o.width+1),e.style.left=d+"px",e.classList.remove("dxbs-visually-hidden"),e.style.visibility="visible"}const c={renderMenu:d,dispose:l,renderSubMenu:r,hideMenuClientSide:i};export{c as default,l as dispose,i as hideMenuClientSide,d as renderMenu,r as renderSubMenu};
