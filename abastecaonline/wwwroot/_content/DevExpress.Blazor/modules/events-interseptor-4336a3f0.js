import{a as e}from"./_tslib-158249d5.js";import{s as t}from"./lit-element-b0a6fcba.js";import{e as s}from"./property-d3853089.js";import{n}from"./custom-element-bd7061f2.js";const i="dxbl-events-interceptor";let r=class extends t{constructor(){super(),this.eventsSet=new Set,this.events=null,this.eventListener=this.handleEvent.bind(this),this._value=null}get value(){return this._value}updated(e){var t,s;e.has("events")&&(this.unsubscribe(null!==(t=e.get("events"))&&void 0!==t?t:null),this.eventsSet=new Set(null===(s=this.events)||void 0===s?void 0:s.split(";")),this.subscribe(this.events))}subscribe(e){var t;null===(t=this.events)||void 0===t||t.split(";").forEach((e=>{this.addEventListener(e,this.eventListener)}))}unsubscribe(e){null==e||e.split(";").forEach((e=>{this.removeEventListener(e,this.eventListener)}))}raise(e,t){try{if(!this.eventsSet.has(e))return;this._value=JSON.stringify([e,t]),this.dispatchEvent(new Event("change",{bubbles:!0}))}finally{this._value=null}}handleEvent(e){}};e([s({type:String,attribute:"events"})],r.prototype,"events",void 0),r=e([n("dxbl-events-interceptor")],r);export{i as d};
