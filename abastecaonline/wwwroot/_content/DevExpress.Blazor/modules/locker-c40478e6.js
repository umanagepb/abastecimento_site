class o{constructor(){this.lockCount=0}get IsLocked(){return this.lockCount>0}lock(){this.lockCount+=1}unlock(){this.IsLocked&&(this.lockCount-=1)}reset(){this.lockCount=0}lockOnce(){this.IsLocked||this.lock()}doLockedAction(o){this.lock();try{o()}finally{this.unlock()}}doIfNotLocked(o){this.IsLocked||o()}doLockedActionIfNotLocked(o){this.doIfNotLocked((()=>this.doLockedAction(o)))}}export{o as L};
