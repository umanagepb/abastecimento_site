import{D as e}from"./dom-95153cd1.js";import{E as t}from"./evt-6e987c4f.js";import{T as o}from"./touch-53923870.js";import{l as n,d as l,m as r,n as i,h as s,q as c,e as a,u as d,r as u,b as f,o as p,f as h,p as m,v as g,w as y,g as b}from"./dom-utils-2919d18e.js";import{d as S,r as v}from"./disposable-d2c2d283.js";import{B as x}from"./browser-a3d50e79.js";import{minColumnWidth as H,ColumnResizeMode as w}from"./column-resize-b770c343.js";import{updateScrollbarStyle as T}from"./dx-style-helper-8d4eb2c7.js";import"./_tslib-158249d5.js";import"./key-a83dbe57.js";import"./lit-element-base-af247167.js";import"./data-qa-utils-8be7c726.js";import"./lit-element-b0a6fcba.js";import"./custom-element-bd7061f2.js";const E={GroupPanelHead:"gph",ColumnHead:"ch"};function L(e){if(!e.hasAttribute("data-dxdg-draggable-id"))return null;const t=e.getAttribute("data-dxdg-column-id").split("|"),o=!(t.length>2)||"1"===t[2],n=t.length>1?E[t[1]]:E.ColumnHead,l=n===E.ColumnHead?parseInt(t[0]):-1,r=n===E.GroupPanelHead?parseInt(t[0]):-1,i=e.previousElementSibling;return{columnVisibleIndex:l,groupVisibleIndex:r,columnHeadType:n,canBeGrouped:o,needInsertBeforeToo:!i||!L(i),element:e}}function N(e){return"[data-dxdg-draggable-id="+e+"]"}function I(e,t,o){var n,l,r;n=e,l=B(t,"clientX")-o.left,r=B(t,"clientY")-o.top,n.style.transform=["translate(",Math.round(l),"px, ",Math.round(r),"px)"].join("")}function B(e,t){return void 0!==e[t]?e[t]:void 0!==e.touches?e.touches[0][t]:0}function R(e,t,s,c){const a=B(e,"clientX"),d=B(e,"clientY"),u=e.target;if(s){const t=n(e.target,"th");if(t&&a>=t.getBoundingClientRect().right-H)return}let f=!1;const p=function(e){const s=Math.abs(a-B(e,"clientX"))>10,p=Math.abs(d-B(e,"clientY"))>10;return(s||p)&&(f=!0,h(),function(e,t,s,c){const a=N(s),d=n(t,a);if(!d)return;const u=l(d,"dxbs-gridview").getBoundingClientRect(),f=L(d),p=i(),h=r();let m={left:0,top:0};const g=function(e,t){const o=[],n=N(t),l=document.querySelectorAll(n);let r=!1,i=!1;for(let e=0;e<l.length;e++){const t=l[e],n=t.getBoundingClientRect(),s=L(t),c=s.columnVisibleIndex,a=s.groupVisibleIndex,d=s.columnHeadType;d===E.GroupPanelHead?r=!0:d===E.ColumnHead&&(i=!0),s.needInsertBeforeToo&&o.push(new M(t,n.left,n.top,n.bottom,c,a,d,!0,!1)),o.push(new M(t,n.right,n.top,n.bottom,c,a,d,!1,!1))}if(r||i){if(!r){const e=document.querySelector("[data-dxdg-drag-group-panel="+t+"]");if(e){const t=e.getBoundingClientRect();o.push(new M(e,t.left,t.top,t.bottom,-1,0,E.GroupPanelHead,!1,!0,!0))}}if(!i){const e=document.querySelector("[data-dxdg-drag-head-row="+t+"]");if(e){const t=e.getBoundingClientRect();o.push(new M(e,t.right,t.top,t.bottom,-1,-1,E.ColumnHead,!1,!0,!0))}}}return o}(0,s),y=function(e,t){let o=e.cloneNode(!0);const n=e.getBoundingClientRect(),l={left:B(t,"clientX")-n.left,top:B(t,"clientY")-n.top};if("DIV"!==o.tagName){const t=document.createElement("DIV"),l=window.getComputedStyle(e);t.innerHTML=o.innerHTML,t.className="card "+e.className,t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.paddingTop=l.paddingTop,t.style.paddingBottom=l.paddingBottom,t.style.paddingLeft=l.paddingLeft,t.style.paddingRight=l.paddingRight,o=t}else o.style.width=n.width+"px",o.style.height=n.height+"px";o.className=o.className+" dx-dragging-state",document.body.appendChild(o);const r=o.getBoundingClientRect();return{dragElement:o,offsetFromMouse:{left:r.left+l.left,top:r.top+l.top}}}(d,e),b=y.dragElement,S=y.offsetFromMouse;I(b,e,S);let v=!0,x=null;const H=function(e){v&&(b.style.visibility="visible",v=!1);return I(b,e,{left:S.left+m.left,top:S.top+m.top}),x=function(e,t,o,n,l,s){!function(e){const t=N(e),o=document.querySelectorAll("div.dxgv-target-marks"+t);for(let e=0;e<o.length;e++){const t=o[e];t.parentNode.removeChild(t)}}(t);let c=null;const a=[],d=B(n,"clientX"),u=B(n,"clientY");for(let t=0;t<e.length;t++){const n=e[t];if(n.columnHeadType===E.GroupPanelHead&&!o.canBeGrouped)continue;if(n.top+l.top<=u&&u<=n.bottom+l.top){if(n.wholeRowIsRarget){c=n;break}a.push({distance:Math.abs(Math.abs(n.x+l.left)-Math.abs(d)),target:n})}}if(null==c){let e=1e6;for(const t in a)e>a[t].distance&&C(d,o,a[t].target)&&(e=a[t].distance,c=a[t].target)}null==c||V(o,c)||c.x>=s.left&&c.x<=s.right&&function(e,t){const o=document.createElement("DIV"),n=1,l=2*(16+n),s=e.bottom-e.top+2*n-l+"px";o.className="dxgv-target-marks",o.dataset.dxdgDraggableId=t,o.style.top=e.top+(e.docScrollTop-r())+r()-1-n+"px",o.style.height=l+"px",o.style.left=e.x+(e.docScrollLeft-i())+i()+"px",o.innerHTML=["<svg class='dx-image dx-image-rotate-180' role='img' aria-hidden='true'><use href='_content/DevExpress.Blazor/dx-blazor.svg#dx-arrow-up'></use></svg>","<div style='height:",o.style.height,"'></div>","<svg class='dx-image' style='top: ",s,"' role='img' aria-hidden='true'><use href='_content/DevExpress.Blazor/dx-blazor.svg#dx-arrow-up'></use></svg>"].join(""),document.body.appendChild(o),e.mark=o}(c,t);return c}(g,s,f,e,m,u),e.preventDefault(),!1},w=function(){if(x&&!V(f,x)){c.invokeMethodAsync("OnGridColumnHeadDragNDrop",f.columnHeadType===E.GroupPanelHead?f.groupVisibleIndex:f.columnVisibleIndex,f.columnHeadType,x.columnHeadType===E.GroupPanelHead?x.groupVisibleIndex:x.columnVisibleIndex,x.columnHeadType,x.insertBefore),x.mark&&x.mark.parentNode.removeChild(x.mark)}document.removeEventListener(o.touchMouseMoveEventName,H),document.removeEventListener(o.touchMouseUpEventName,w),window.removeEventListener("scroll",T),b.parentNode.removeChild(b)},T=function(){m={left:p-i(),top:h-r()}};document.addEventListener(o.touchMouseMoveEventName,H),document.addEventListener(o.touchMouseUpEventName,w),window.addEventListener("scroll",T)}(e,u,t,c)),e.preventDefault(),!1},h=function(){document.removeEventListener(o.touchMouseMoveEventName,p),document.removeEventListener(o.touchMouseUpEventName,h),!f&&u&&x.WebKitTouchUI&&u.click()};document.addEventListener(o.touchMouseMoveEventName,p),document.addEventListener(o.touchMouseUpEventName,h),e.preventDefault(),u.focus()}function M(e,t,o,n,l,s,c,a,d){this.element=e,this.x=t,this.top=o,this.bottom=n,this.columnVisibleIndex=l,this.groupVisibleIndex=s,this.columnHeadType=c,this.insertBefore=a,this.wholeRowIsRarget=d,this.docScrollTop=r(),this.docScrollLeft=i()}function V(e,t){function o(e,t){return t.groupVisibleIndex===e.groupVisibleIndex||t.groupVisibleIndex===e.groupVisibleIndex-1&&!t.insertBefore}function n(e,t){return t.columnVisibleIndex===e.columnVisibleIndex||t.columnVisibleIndex===e.columnVisibleIndex-1&&!t.insertBefore}if(t.columnHeadType===e.columnHeadType&&e.columnHeadType===E.GroupPanelHead&&o(e,t))return!0;if(t.columnHeadType===e.columnHeadType&&e.columnHeadType===E.ColumnHead&&n(e,t))return!0;if(e.columnHeadType===E.GroupPanelHead&&t.columnHeadType===E.ColumnHead&&-1!==e.columnVisibleIndex&&n(e,t))return!0;return!(e.columnHeadType!==E.ColumnHead||t.columnHeadType!==E.GroupPanelHead||-1===e.groupVisibleIndex||!o(e,t))}function C(e,t,o){const n=t.element.getBoundingClientRect();if(V(t,o)&&(e<n.left||e>n.right))return!1;if(o.x<n.left){if(e>n.right)return!1}else if(e<n.left)return!1;return!0}E[1]=E.ColumnHead,E[0]=E.GroupPanelHead;const q=".dxbs-table td.table-active",D=".dropdown-item.active",A=".dropdown-item.focused",W="--selection-bg",P="--component-width",_="--scroll-left",k=new ResizeObserver((e=>{for(let t=0;t<e.length;t++){const o=e[t],n=o.target;n.style.setProperty(P,o.contentRect.width+"px"),n._dxOnWindowResize&&n._dxOnWindowResize()}}));class O{constructor(e,t,o){this._itemHeight=e,this._scrollTop=t,this._scrollHeight=o}get itemHeight(){return this._itemHeight}get scrollTop(){return this._scrollTop}get scrollHeight(){return this._scrollHeight}isEqual(e){return this.itemHeight===e.itemHeight&&this.scrollTop===e.scrollTop&&this.scrollHeight===e.scrollHeight}toJSON(){return{ItemHeight:this.itemHeight,ScrollTop:this.scrollTop,ScrollHeight:this.scrollHeight}}}function z(e){if(!s(e))return;let t=function(e){let t=e.querySelector("*[id$='_LB']");!t&&e.parentNode&&(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){let e=t.querySelector(D);if(e||(e=t.querySelector(q)),e)return e.parentNode}return null}(e);if(t||(t=function(e){let t=null;c(e,(o=>{t=e.querySelector("*"+o+" > *[id$='_LB']")})),t||c(e.parentNode,(o=>{e.parentNode&&(t=e.parentNode.querySelector("*"+o+" > *[id$='_LB']"))}));const o=t?t.querySelector(q):null;return o?o.parentNode:null}(e)),t){const o=e;let n=t.offsetTop;if(t.offsetParent&&"TABLE"===t.offsetParent.tagName){const e=t.offsetParent.previousElementSibling;e&&(n+=e.clientHeight)}const l=o.scrollTop+o.clientHeight<n+t.offsetHeight;o.scrollTop>n&&(o.scrollTop=n),l&&(o.scrollTop=n-(o.clientHeight-t.offsetHeight))}}function G(e){if(!s(e))return;const t=function(e){let t=e.querySelector("*[id$='_LB']");!t&&e.parentNode&&(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){const e=t.querySelector(A);if(e)return"TR"===e.tagName?e:e.parentNode}return null}(e);if(t){let o=e.querySelector(".dxgvCSD");o||(o=e);const n=o.scrollTop+o.clientHeight<t.offsetTop+t.offsetHeight;o.scrollTop>t.offsetTop&&(o.scrollTop=t.offsetTop),n&&(o.scrollTop=t.offsetTop-(o.clientHeight-t.offsetHeight))}}function j(e){void 0===e.dataset.virtualScrollLock&&(e.dataset.virtualScrollLock="0")}function X(e){j(e);const t=Number(e.dataset.virtualScrollLock)+1;e.dataset.virtualScrollLock=t.toString()}function F(e){j(e);const t=Number(e.dataset.virtualScrollLock)-1;e.dataset.virtualScrollLock=t.toString()}function U(e,o,n,l,r,i,s){n.isHorizontalScrolling&&function(e,o,n){if(o.scrollLeft===n.scrollLeft)return;const l=t.getEventSource(e);if(l===o){const e=o.scrollLeft;n.scrollLeft=e,o.style.setProperty(_,e+"px")}else l===n&&setTimeout((()=>o.scrollLeft=n.scrollLeft),0)}(e,l,r),n.isVirtualScrolling&&function(e,t,o,n,l){if(r=o,j(r),Number(r.dataset.virtualScrollLock)>0)return;var r;!function(e,t,o,n,l){let r=!0;o.dataset.prevScrollTop?r=o.dataset.prevScrollTop!==o.scrollTop.toString():o.dataset.prevScrollTop=o.scrollTop.toString();$(o),r&&(o.dataset.OnScrollTimerId=setTimeout((function(){(function(e,t,o,n){const l=Y(t),r=Z(t),i=r.scrollTop,s=r.scrollBottom,c=n.clientHeight>0&&s>o.offsetHeight+l.offsetHeight;return o.clientHeight>0&&i<o.offsetHeight||c?function(e,t,o){const n=e;return n.dxScrollStateCache&&n.dxScrollStateCache.isEqual(o)?Promise.resolve():(n.dxScrollStateCache=o,t.DxRestoreScrollTop=t.scrollTop,X(t),e.invokeMethodAsync("OnGridVirtualScroll",o.itemHeight,o.scrollTop,o.scrollHeight).then((o=>{!function(e,t){de(e.mainElement,e,t)}(o,e),F(t)})).catch(ee))}(e,t,r.requestScrollState):Promise.resolve()})(e,o,n,l).then((()=>{delete o.dataset.prevScrollTop})),t.needInternalSettings&&oe(t)}),200).toString(),function(e){const t=0===e.scrollTop,o=e.scrollHeight-e.scrollTop===e.clientHeight,n="dx-scrolling";e.classList.remove(n),t||o||e.classList.add(n)}(o))}(e,t,o,n,l)}(o,n,l,i,s)}function $(e){e.dataset.OnScrollTimerId&&(clearTimeout(Number(e.dataset.OnScrollTimerId)),delete e.dataset.OnScrollTimerId)}function Y(e){const t=e.querySelector("table.dxbs-table"),o=e.classList.contains("dxbs-listbox")?e.querySelector("ul"):null;return t||o}function J(e,t,o,n,l){const r=Y(t),i=function(e,t){const o=Q(e);return{itemHeight:o,spacerTop:t.virtualScrollingOptions.itemsAbove*o,spacerBelow:t.virtualScrollingOptions.itemsBelow*o}}(r,l);o.style.height=i.spacerTop+"px",n.style.height=i.spacerBelow+"px",function(e,t,o){e.scrollTop<o.clientHeight&&(e.scrollTop=o.clientHeight+1);e.scrollTop+e.clientHeight>o.clientHeight+t.offsetHeight&&(e.scrollTop=o.clientHeight+t.offsetHeight-e.clientHeight-1)}(t,r,o)}function K(e){return Array.from(function(e){switch(e.tagName){case"TABLE":return e.querySelectorAll(":scope > tbody > tr");case"UL":return e.querySelectorAll(":scope > li");default:throw new Error("Unexpected data container element")}}(e),(e=>e.offsetHeight))}function Q(e){const t=K(e),o={};for(let e=0;e<t.length;e++){const n=t[e];o[n]=o[n]?o[n]+1:1}let n=0,l=0;for(const e in o)o[e]>l&&(l=o[e],n=Number(e));return n}function Z(e){const t=300,o=Y(e);let n=e.scrollTop-t;n<0&&(n=0);const l=e.scrollTop+e.clientHeight+t;let r=n-t;r<0&&(r=0);const i=l-r+t,s=Q(o);return{scrollTop:n,scrollBottom:l,requestScrollState:new O(s,r,i)}}function ee(e){e&&e.mainElement&&ue(e.mainElement)}function te(e){return()=>{if(!e)return;const t=e.parentStyleSheet;if(!t)return;const o=Array.prototype.indexOf.call(t.cssRules,e);o>-1&&t.deleteRule(o)}}function oe(e){const t=e.elementsStorage,o=a(e.mainElement).parentElement;if(!o)return null;const n=a(t.scrollElement),l=a(t.scrollHeaderElement),r=[],i=window.getComputedStyle(o);if(!i)return null;if(!n.style.maxHeight)if(e.isDropDown)n.style.maxHeight=re(i,l)+"px";else{const e=h(o,(e=>{n.style.maxHeight=e.height-l.offsetHeight+"px"})),t=h(l,(e=>{n.style.maxHeight=o.clientHeight-(e.height+2*m(l))+"px"}));r.push((()=>{d(e),d(t)})),n.style.maxHeight=o.clientHeight-l.offsetHeight+"px"}if(e.isDropDown&&2!==e.dropDownWidthMode){const t=le(n,l,o,e,i),s=n.querySelector("table");if(!s)return null;v(s,(()=>{t&&t()}));const c=h(s,(t=>{S(s);const r=le(n,l,o,e,i);v(s,(function(){r&&r()}))}));r.push((function(){d(c),S(s)}))}return r.length>0?()=>{r.forEach((e=>e()))}:null}function ne(t,o,n){const l="dxbs-vertical-scrollbar-visible";o&&!n?e.addClassName(t,l):e.removeClassName(t,l)}function le(e,t,o,n,l){function r(e,t){const o=e.querySelector(t);return o?o.children:null}let i=null;const s=e.querySelector("table"),c=t.querySelector("table");if(!s||!c)return null;const d=r(s,"tbody>tr"),u=d&&1===d.length&&s.querySelector("tr.dxbs-empty-data-row"),p=r(c,"colgroup"),h=r(s,"colgroup");o.dataset.calculated&&function(e,t){if(!e||!t)return;for(let o=0;o<e.length;o++){const n=e[o];n.dataset.autoWidth&&se(n,t.item(o))}}(p,h);let m=0;if(u){c.style.width="auto",c.style.tableLayout="auto";const e=window.getComputedStyle(c).width;c.removeAttribute("style"),m=parseFloat(e)}else{const e=r(c,"thead>tr");if(!(p&&e&&d&&h))return null;s.style.width=c.style.width="auto",s.style.tableLayout=c.style.tableLayout="auto";const t=[];for(let o=0;o<p.length;o++){const l=p[o];if(l.style.width)if(-1!==l.style.width.indexOf("%"))t.push(o);else{const e=b(),t=a(n.mainElement).getAttribute("data-dxdg-id");let r=null;e&&(e.insertRule("[data-dxdg-id='"+t+"'] table tr>td:nth-child("+(o+1)+"), [data-dxdg-id='"+t+"'] table tr>th:nth-child("+(o+1)+") { max-width:"+l.style.width+"; }",e.cssRules.length),r=e.cssRules[e.cssRules.length-1],m+=parseFloat(l.style.width)),i=te(r)}else l.dataset.autoWidth="true",m+=ie(l,h[o],e[o],d[o])}if(t.length>0)for(let o=0;o<t.length;o++)m+=ie(p[o],h[o],e[o],d[o]);s.removeAttribute("style"),c.removeAttribute("style")}if(0===n.dropDownWidthMode||1===n.dropDownWidthMode){const r=n.editor;if(!r)return null;const i=parseInt(l.borderRightWidth,10)+parseInt(l.borderLeftWidth,10),s=m+(e.querySelector("table").offsetHeight>re(l,t)?f():0)+i;0===n.dropDownWidthMode&&r.offsetWidth>s?(!function(e,t,o){if(!e||!t)return;const n=Array.from(e),l=n.filter((e=>e.dataset.autoWidth));if(l.length>0){const e=Math.floor(o/l.length);for(let o=0;o<l.length-1;o++){const r=l[o],i=t[n.indexOf(r)],s=Number.parseInt(r.style.width);i.style.width=r.style.width=s+e+"px"}const r=l[l.length-1];se(r,t[n.indexOf(r)])}}(p,h,r.offsetWidth-s),o.style.width=r.offsetWidth-2+"px"):o.style.width=s+"px"}return o.dataset.calculated="true",i}function re(e,t){const o=parseInt(e.borderTopWidth,10)+parseInt(e.borderBottomWidth,10);return parseInt(e.maxHeight,10)-o-t.offsetHeight}function ie(e,t,o,n){const l=Math.ceil(o.getBoundingClientRect().width),r=Math.ceil(n.getBoundingClientRect().width),i=l>r?l:r;return t.style.width=e.style.width=i+"px",i}function se(e,t){e.style.width="",t&&(t.style.width="")}O.Auto=new O(0,0,0);const ce=document.createElement("TD");async function ae(t,o){try{const n=a(t);if(!n)throw new Error("failed");await function(e){return new Promise(((t,o)=>{!function n(l){e.clientHeight>0?t():0===l?o("DxDataGrid.Init error: can't measure layout"):setTimeout(n,100,l-1)}(10)}))}(n),n._dxResizeAttached||(n._dxResizeAttached=!0,k.observe(n)),cancelAnimationFrame(n._dxNextRafId||-1);const l=n.clientWidth+"px",r=e.getCurrentStyle(ce).backgroundColor,i=o(n);return n._dxNextRafId=requestAnimationFrame((()=>{n.style.setProperty(W,r),n.style.setProperty(P,l)})),i}catch(e){throw new Error(`DxDataGrid.Init error: ${e}`)}}function de(n,r,i){return ae(n,(n=>{const s=i,c=r.isMultipleSelectionEnabled,h=r.scrollToSelectedItemRequested,m=r.elementsStorage;S(n);let b=null,x=null,H=null,E=null,L=null;r.needInternalSettings&&(L=oe(r));const N=a(m.scrollElement),I=a(m.scrollHeaderElement);if(N){const t=a(m.virtualScrollSpacerTopElement),o=a(m.virtualScrollSpacerBottomElement);if(X(N),r.isVirtualScrolling||r.isVerticalScrolling){e.addClassName(n,"dxbs-has-vertical-scrollbar"),ne(n,N.scrollHeight>N.clientHeight,r.isHorizontalScrolling);r.isFirstScrollableRender&&r.isAutoVerticalScrollBarMode&&(n.disposeVerticalScrollBarSubscriber=function(e,t,o){const n=g(t,(t=>{ne(e,t,o)}));return()=>{d(n)}}(n,N,r.isHorizontalScrolling)),r.isFirstScrollableRender&&(n.disposeVerticalScrollBarWidthSubscriber=function(){const e=y((()=>T()));return()=>{d(e)}}())}if(r.isVirtualScrolling&&(J(0,N,t,o,r),h?z(N):N.DxRestoreScrollTop&&(N.scrollTop=N.DxRestoreScrollTop,delete N.DxRestoreScrollTop)),function(e){const t=e.querySelectorAll(".btn.btn-toggle");if(0!==t.length)for(let o=0;o<t.length;o++){const n=t[o],l=n.offsetWidth+p(n.parentNode);if(l>0){requestAnimationFrame((()=>{e.style.setProperty("--button-w",l+"px")}));break}}}(n),b=e=>U(e,s,r,N,I,t,o),N.addEventListener("scroll",b),I&&I.addEventListener("scroll",b),F(N),function(e){return!e.needInternalSettings&&(e.isHorizontalScrolling||e.isVerticalScrolling&&e.columnResizeMode!==w.Component)}(r)){const e=a(m.rootElement);x=()=>function(e,t,o,n){let l="",r="";t&&(X(t),l=t.style.overflowX,t.style.overflowX="hidden",t.style.width="0"),o&&(r=o.style.overflowX,o.style.overflowX="hidden",o.style.width="0");const i=e.clientWidth;if(t&&(i&&(t.style.width=i+"px"),t.style.overflowX=l),o){const e=function(e,t){return(t.isVerticalScrolling||t.isVirtualScrolling)&&(e.clientHeight<e.scrollHeight||"scroll"===e.style.overflowY)}(t,n)?f():0;i&&(o.style.width=i-e+"px"),o.style.overflowX=r}t&&F(t)}(e,N,I,r),x(),window.addEventListener("resize",x),n._dxOnWindowResize=x}}function B(e){!function(e){if(!c||!e.shiftKey||!t.isLeftButtonPressed(e))return;const o=t.getEventSource(e);l(o,"dxbs-data-row")&&u()}(e)}n.addEventListener("mousedown",B);let M=null,V=null;const C=r.columnResizeMode!==w.Disabled;if(r.isColumnDragEnabled){const e=n.dataset.dxdgId;e&&(M=n.querySelector("[data-dxdg-drag-head-row='"+e+"']"),M&&(H=t=>R(t,e,C,s),M.addEventListener(o.touchMouseDownEventName,H)),V=n.querySelector("[data-dxdg-gp='"+e+"']"),V&&(E=t=>R(t,e,C,s),V.addEventListener(o.touchMouseDownEventName,E)))}if(v(n,(function(){L&&L(),b&&(N.removeEventListener("scroll",U),I&&I.removeEventListener("scroll",U)),x&&window.removeEventListener("resize",x),N&&$(N),H&&M&&M.removeEventListener(o.touchMouseDownEventName,H),E&&V&&V.removeEventListener(o.touchMouseDownEventName,E),n.removeEventListener("mousedown",B)})),r.isFirstScrollableRender&&r.isVirtualScrolling&&r.virtualScrollingOptions.itemsBelow>0){const e=Z(N);return JSON.stringify(e.requestScrollState)}return JSON.stringify(O.Auto)}))}function ue(e){return(e=a(e))&&function(e){k.unobserve(e),S(e),function(e){e.disposeVerticalScrollBarSubscriber&&(e.disposeVerticalScrollBarSubscriber(),delete e.disposeVerticalScrollBarSubscriber)}(e),function(e){e.disposeVerticalScrollBarWidthSubscriber&&(e.disposeVerticalScrollBarWidthSubscriber(),delete e.disposeVerticalScrollBarWidthSubscriber)}(e)}(e),Promise.resolve("ok")}ce.style.cssText="display: none; position: fixed; top: -1000px; left: -1000px;",ce.className="table-active",document.body.appendChild(ce);const fe={init:de,dispose:ue};export{fe as default,ue as dispose,Z as getParametersForVirtualScrollingRequest,de as init,G as scrollToFocusedItem,z as scrollToSelectedItem};
